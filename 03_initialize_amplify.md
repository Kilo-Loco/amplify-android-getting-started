# Introduction

Now that we have created an Android application, we want to continue development and add new features.

To start to use AWS Amplify in your application, you must install the Amplify command line, initialize the amplify project directory, configure your project to use the Amplify libraries, and initialize Amplify Libraries at runtime.

## What you Will Learn

- Initialize a new Amplify project
- Add Amplify Libraries in your project
- Initialize Amplify libraries at runtime

## Key Concepts

- Amplify CLI - The Amplify CLI allows you to create, manage, and remove AWS services directly from your terminal.

- Amplify libraries – The Amplify libraries allow you to interact with AWS services from a web or mobile application.

# Implementation

## Install Amplify CLI

AWS Amplify CLI depends on [Node.js](https://nodejs.org/en/), refer to [the prerequisites section in the introduction](/01_introduction.md) to install Node.js.

To install AWS Amplify CLI, open a Terminal, and **type the following command**:

```zsh
## Install Amplify CLI
npm install -g @aws-amplify/cli

## Verify installation and version
amplify --version
# Scanning for plugins...
# Plugin scan successful
# 4.29.4
```

## Initialize an Amplify Backend

To create the basic structure of our backend, we first need to initialize the amplify project directory and to create our cloud backend.

Open a Terminal and change directories to your project. For example, if you created your project in the folder `~/AndroidStudioProject/android-getting-started`, you can type:

```zsh
cd ~/AndroidStudioProject/android-getting-started   
```

Verify you are in the correct directory, it should look like this:

```zsh
➜  android-getting-started git:(master) ✗ ls -al
total 32
drwxr-xr-x  14 stormacq  admin   448 Oct  6 14:06 .
drwxr-xr-x  16 stormacq  admin   512 Oct  6 11:28 ..
-rw-r--r--   1 stormacq  admin   208 Oct  6 14:04 .gitignore
drwxr-xr-x   6 stormacq  admin   192 Oct  6 14:04 .gradle
drwxr-xr-x  13 stormacq  admin   416 Oct  6 15:19 .idea
drwxr-xr-x   8 stormacq  admin   256 Oct  6 14:06 app
drwxr-xr-x   3 stormacq  admin    96 Oct  6 14:06 build
-rw-r--r--   1 stormacq  admin   642 Oct  6 14:04 build.gradle
drwxr-xr-x   3 stormacq  admin    96 Oct  6 14:04 gradle
-rw-r--r--   1 stormacq  admin  1162 Oct  6 14:04 gradle.properties
-rwxr--r--   1 stormacq  admin  5296 Oct  6 14:04 gradlew
-rw-r--r--   1 stormacq  admin  2260 Oct  6 14:04 gradlew.bat
-rw-r--r--   1 stormacq  admin   437 Oct  6 14:04 local.properties
-rw-r--r--   1 stormacq  admin    59 Oct  6 14:04 settings.gradle
```

Initialize the Amplify project structure and configuration file. **Execute the following command**:

```zsh
amplify init
```

- *? Enter a name for your project (androidgettingstarted)*: accept the default, press **enter**
- *? Enter a name for the environment (dev)*: accept the default, press **enter**
- *? Choose your default editor*: use the arrow key to select your favorite text editor an press **enter**
- *? Choose the type of app that you're building*: Android is already selected, press **enter**
- *? Do you want to use an AWS profile?*, Y, press **enter**
- *? Please choose the profile you want to use*: use the arrow keys to select your profile and press **enter**.

You can create a profile using AWS CLI using `aws configure --profile <name>` if you don't have one yet.

Amplify initilizes your project in the cloud, it might take a few minutes. After a few minutes, you should see a message like:

```zsh
✔ Successfully created initial AWS cloud resources for deployments.
✔ Initialized provider successfully.
Initialized your environment successfully.

Your project has been successfully initialized and connected to the cloud!
```

## Add Amplify Librairies to your Project



## Initialize Amplify at Runtime

At runtime, the Amplify libraries require the amplify configuration files generated by the CLI.

Let's create a `Backend` class to group the code to interact with our backend. I use a [singleton design pattern](https://en.wikipedia.org/wiki/Singleton_pattern) to make it easily available through the application and to ensure the Amplify libraries are initialized only once.

The class initializer takes care of initializing the Amplify librairies.

Create a new swift text file `Backend.swift`, add it to your Android Studio project (**CTRL-N**) and add this code:

```swift

import UIKit
import Amplify

class Backend {
    static let shared = Backend()
    @discardableResult
    static func initialize() -> Backend {
        return .shared
    }
    private init() {
        // initialize amplify
        do {
        try Amplify.configure()
        print("Initialized Amplify");
        } catch {
        print("Could not initialize Amplify: \(error)")
        }
    }
}
```

We initialize our singleton `Backend` object when application finishes launching.

Open the `AppDelegate.swift` file and add `Backend.initialize()` in the `application(:didFinishLaunchingWithOptions:)` method, just like this:

```swift
// inside the AppDelegate.swift file 
func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {

    // initialize Amplify
    Backend.initialize()

    return true
}
```

## Verify your Setup

To verify everything works as expected, build the project. Click **Product** menu and select **Build** or type **&#8984;B**. There should be no error.

[Next](/04_add_authentication.md) : Add user authentication.